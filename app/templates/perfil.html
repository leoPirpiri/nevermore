{% extends "header_home.html" %}
{% block conteudo %}
<div id="content_perfil" class="container bg-white py-5" align="center">
    <div class="row">
        <div class="col-lg-4 col-12">
            <div id="infors_perfil">
                <form id="form-input-img" method="POST" enctype=multipart/form-data>
                    <div class="image-upload">
                        <label for="foto">
                            <img class="img-fluid" src="{{ url_for('foto_perfil', nome_usuario=logged_user.nome_usuario()) }}" alt="Foto do usuário">
                            <div class="imgupldh"><div>Clique para atualizar</div></div>
                        </label>
                    
                        <input id="foto" name="foto" accept="image/png, image/jpeg, image/jpg, image/gif" type="file"/>
                    </div>
                    <script type="text/javascript" src="{{ url_for('static', filename='js/photo.js') }}"></script>
                </form>

                <div align="left">
                    <h4>
                        <button type="button" class="btn" id="user_config" title="Alterar algumas informações" for><i
                                class="fa fa-cogs" aria-hidden="true"></i></button>
                        {{ logged_user.nome_real()}}
                    </h4>
                    <h6>@{{ logged_user.nome_usuario() }}</h6>
                </div>
                <div align="left">
                    <ol class="list-group">
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <i class="fa fa-users" aria-hidden="true"></i>Número de seguindo
                            <span class="badge badge-gothic badge-pill"> {{ num_seguindo }} </span>
                        </li>
                        <li class="list-group-item d-flex justify-content-between align-items-center">
                            <i class="fa fa-grav" aria-hidden="true"></i>Número de seguidores
                            <span class="badge badge-gothic badge-pill"> {{ num_seguidores }} </span>
                        </li>
                    </ol>
                </div>
                <div>
                    <br>
                    <textarea id="user_bio" class="form-control" style="resize:none;"
                              placeholder="A biografia do usuário visivel aqui"
                              disabled="disabled"></textarea>
                </div>
            </div>
            <hr>
            <h2>Assuntos do momento</h2>
            <hr>
            <div id="trends" align="left">
                <ol class="list-group">
                    {% if assuntos %}
                    {% for trends in assuntos%}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        #{{ trends.nome }}
                        <span class="badge badge-gothic badge-pill"> {{ trends.quan }} </span>
                    </li>
                    {% endfor %}
                    {% else %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">
                        #Sem momentos
                        <span class="badge badge-gothic badge-pill">00000</span>
                    </li>
                    {% endif %}
                </ol>
            </div>
        </div>
        <div class="col-lg-8 col-12">
            {% if opinar_form %}
            <form id="opiniao" action="/opinar" method="POST" enctype=multipart/form-data>
                <div id="post" class="row">
                    <div class="col-2 p-0">
                        <div class="pic-thumbnail">
                            <img class="img-fluid" src="{{ url_for('foto_perfil', nome_usuario=logged_user.nome_usuario()) }}"
                                alt="Foto do usuário">
                        </div>
                    </div>
                    <div class="input-group col-9 p-0">
                        <input type="hidden" name="tipo" value="POST">
                        <div class="col-12">
                            <textarea id="texto" name="texto" class="form-control" style="resize:none;"
                                    placeholder="No quê você está pensando?" required></textarea>
                        </div>
                        <div class="col-12">
                            <div class="input-group">
                                <div class="custom-file">
                                    <input type="file" class="custom-file-input" id="input_file_peck" aria-describedby="submit_peck"
                                           name="foto" accept="image/png, image/jpeg, image/jpg, image/gif">
                                    <label class="custom-file-label" for="input_file_peck">Escolher arquivo</label>
                                </div>
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary" type="submit" id="submit_peck">
                                        <i class="fa fa-commenting" aria-hidden="true"></i> Peck
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            <hr>
            {% endif %}
            <div id="time_line">
                <h2>Meus Contos...</h2>
                <hr>
                <div id="tl_content">
                    {% if posts %}
                    {% include 'posts.html' %}
                    {% else %}
                    Não possue posts!
                    {% endif %}
                </div>
            </div>
            <hr>
            <div>
                <button id="btn-feed" type="button" class="btn btn-dark">
                    Carregar <i class="fa fa-plus-square-o" aria-hidden="true"></i> conteúdo
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}